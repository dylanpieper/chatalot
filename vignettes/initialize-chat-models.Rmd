---
title: "Initialize Chat Models"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Initializing Chat Models in hellmer}
  %\VignetteEncoding{UTF-8}
  %\VignetteEngine{knitr::rmarkdown}
editor_options: 
  markdown: 
    wrap: 72
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

This package provides two ways to initialize [ellmer chat
models](%5Bellmer%20chat%20model%20function%5D(https://ellmer.tidyverse.org/reference/index.html))
for batch processing. This flexibility allows you to either pass a
function that creates a ready-to-go chat model or pass a pre-configured
chat model object for more user control.

## Method 1: Passing a Function

The first method is to pass an ellmer chat model function directly. This
is the preferred method because it lets hellmer handle the model
initialization, specifically setting `echo = "none"` for cleaner console
output:

``` r
library(hellmer)

# Sequential processing
chat <- chat_batch(
  chat_model = chat_claude,
  system_prompt = "Reply concisely"
)

# Parallel processing
chat <- chat_parallel(
  chat_model = chat_claude,
  system_prompt = "Reply concisely",
  workers = 4
)
```

In this case, hellmer will:

1.  Recognize that `chat_model` is a function
2.  Initialize the model with `echo = "none"` and any additional
    parameters you provide
3.  Use this newly created model for batch processing

## Method 2: Passing a Pre-configured Object

The second method is to pass an already initialized chat model. This is
useful when you need more control over model configuration or want to
reuse an existing model:

``` r
library(hellmer)

# Create and configure a chat model
my_model <- chat_claude(
  max_tokens = 1000,
  system_prompt = "Reply concisely",
  echo = "none"
)

# Sequential processing
chat <- chat_batch(chat_model = my_model)

# Parallel processing
chat <- chat_parallel(
  chat_model = my_model,
  workers = 4
)
```

In this case, hellmer will:

1.  Recognize that `chat_model` is an object
2.  Use the model as-is with its existing configuration
